var ScrollIt=function(a){"use strict";window.$=this;var a=a||{},b=!0;this.nav=a.nav||!1,this.position=0,this.elem=document.querySelector(a.elem)||document.body,this.time=a.time||200,this.delay=a.delay||0,this.pages=document.querySelectorAll("section[data-page]"),this.anchors=document.querySelectorAll("a[data-link]"),this.keyCodes={previous:[33,38,37],next:[34,39,40]},this.previous=function(){this.scroll(this.position>0?this.position-1:this.pages.length-1)},this.next=function(){this.scroll(this.position<this.pages.length-1?this.position+1:0)};var c={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return c.Android()||c.BlackBerry()||c.iOS()||c.Opera()||c.Windows()}};this.scrollCtrl={defaults:{anch:[],pos_height:[]},determinate_value:function(){for(var a=$.scrollCtrl.defaults,b=$.pages.length,c=0,d=0;b>d;d++)a.pos_height[d]={previous:c-$.pages[d].offsetHeight/2,next:c+$.pages[d].offsetHeight-$.pages[d].offsetHeight/2},a.anch[d]=$.pages[d].getAttribute("data-page"),c+=$.pages[d].offsetHeight},calcPosition:function(a){var b=this.defaults.pos_height,c=window.pageYOffset;if(c>=b[$.position].next||c<b[$.position].previous||a===!0){for(var e=0,f=$.pages.length;f>e;e++)if(c<b[e].next&&c>=b[e].previous)return $.anchors&&d(e),e;return!1}},verificaUrl:function(){var a=window.location.hash.substring(1),c=$.scrollCtrl.defaults.anch.indexOf(a);b&&-1!==c&&$.scroll(c)},verificaPos:function(a){var b=$.scrollCtrl.calcPosition(a||!1);(b||0===b)&&e(b)}},this.scrollCtrl.init=function(){var a=($.scrollCtrl.defaults,$.scrollCtrl);a.determinate_value(),a.verificaPos(!0),window.onkeydown=function(a){a.preventDefault(),-1!==$.keyCodes.previous.indexOf(a.which)?$.previous():-1!==$.keyCodes.next.indexOf(a.which)&&$.next()},window.addEventListener("resize",function(){a.determinate_value(),a.verificaPos(!0)},!0),window.addEventListener("scroll",function(){a.verificaPos()},!0),window.addEventListener("popstate",a.verificaUrl,!0),window.addEventListener("hashchange",a.verificaUrl,!0)};var d=function(a){var b=$.pages[a].getAttribute("data-page");history.replaceState?history.replaceState({},b,"#"+b):location.hash=b};this.scroll=function(a,d){var e,f=this.position>a?this.position-a:a-this.position,d=(this.elem,d*f||this.time*f),g=this.pages[a].offsetTop;return c.any()?void scrollTo(0,g):void(b&&(b=!1,setTimeout(function(){var a=function(){return e=(g-window.pageYOffset)/d*10,window.scrollTo(0,window.pageYOffset+e),window.pageYOffset===g?void(b=!0):(d-=10,void setTimeout(a,10))};a()},$.delay)))};var e=function(a){$.nav&&(document.querySelectorAll(".btnCtrl")[$.position].classList.remove("active"),document.querySelectorAll(".btnCtrl")[a].classList.add("active")),$.position=a},f=function(a,b,c,d){var e=document.createElement(a);e.classList.add(b),void 0!==d&&e.addEventListener("click",function(){$.position!==d&&$.scroll(d)},!0),c=document.querySelector(c),c.appendChild(e)},g=function(){var a=$.anchors;if(a)for(var b=0,c=a.length;c>b;b++)a[b].setAttribute("href",window.location.pathname+"#"+a[b].getAttribute("data-link"))},h=function(){$.elem.setAttribute("data-scrollIt","main"),f("nav","ctrlPage",'*[data-scrollIt="main"]');for(var a=0,b=$.pages.length;b>a;a++)f("div","btnCtrl","nav.ctrlPage",a);document.querySelector(".ctrlPage").setAttribute("style","height:"+25*b+"px")};this.init=function(){$.nav&&h(),$.scrollCtrl.init(),g()},setTimeout($.init,1)};